/*
    Vishwa Samvidhan - The Covenant of Earth
*/

:root {
    /* ☆ Core Typography ☆ */
    --font-main-text: 'EB Garamond', 'Georgia', 'Times New Roman', serif;
    --font-ui: 'Inter', 'Helvetica Neue', 'Arial', sans-serif;
    --font-heading-alt: 'Noto Serif', 'EB Garamond', serif;
    --base-font-size: 16px; /* Foundation for REM units */

    /* ☆ Color Palette - The Cosmic Hues ☆ */
    --color-background: #FBF8F3;        /* Soft Parchment / Ancient Paper */
    --color-text-primary: #212529;      /* Deeper, Richer Charcoal (Bootstrap-like dark) */
    --color-text-secondary: #5a5f64;    /* Softer Grey for ancillary text */
    --color-header-bg: #11233A;         /* Profound Cosmic Blue */
    --color-header-text: #E9ECEF;       /* Luminous, Softer White on Dark */
    --color-accent-primary: #B08D57;    /* Refined Gold/Bronze - slightly desaturated */
    --color-border-subtle: #D8D0C0;     /* Muted, Natural Border */
    --color-highlight-earth: #5A8B2F;   /* Rich Earthy Green */
    --color-link: #0056b3;              /* Strong, Accessible Blue Link */
    --color-link-hover: var(--color-accent-primary); /* Golden hover */
    --color-focus-ring: rgba(176, 141, 87, 0.5); /* Accent color for focus */

    /* ☆ Spacing & Layout ☆ */
    --spacing-unit: 8px;
    --container-max-width: 1024px;      /* Main content constraint */
    --header-max-width: 1366px;         /* Wider header for grand feel */
    --border-radius: 5px;               /* Slightly softer radius */
    --transition-speed: 0.25s;          /* Standard transition duration */
    --transition-easing: ease-in-out;

    /* ☆ Shadows & Depth ☆ */
    --shadow-soft: 0 2px 5px rgba(0,0,0,0.06);
    --shadow-medium: 0 4px 10px rgba(0,0,0,0.08);
    --shadow-deep: 0 6px 18px rgba(40,40,40,0.1);

    /* ☆ UI Element Specifics ☆ */
    --color-button-bg: var(--color-accent-primary);
    --color-button-text: #FFFFFF;
    --color-button-hover-bg: #9a7947;   /* Darker gold for hover */
    --gradient-header: linear-gradient(145deg, var(--color-header-bg) 0%, #1a3556 100%);
}

/* ☆ Universal Reset & Box Sizing ☆ */
*, *::before, *::after {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

/* ☆ HTML & Body Foundations ☆ */
html {
    scroll-behavior: smooth;
    font-size: var(--base-font-size);
    overflow-x: hidden;
    width: 100%;
    height: 100%;
    text-rendering: optimizeLegibility;
    -webkit-text-size-adjust: 100%;
    -moz-osx-font-smoothing: grayscale;
    -webkit-font-smoothing: antialiased;
}
body {
    font-family: var(--font-main-text);
    line-height: 1.78; /* Increased for better readability with serif */
    background-color: var(--color-background);
    color: var(--color-text-primary);
    display: flex;
    flex-direction: column;
    min-height: 100vh;
    overflow-wrap: break-word;
    word-break: break-word;
    hyphens: auto;
    position: relative; top: 0; width: 100%;
}

/* ☆ Accessibility Enhancements ☆ */
.skip-link {
    position: absolute;
    top: -200px; /* Further off-screen */
    left: 80%;
    transform: translateX(-50%);
    background-color: var(--color-accent-secondary);
    color: white;
    padding: calc(var(--spacing-unit) * 1) calc(var(--spacing-unit) * 2.5);
    z-index: 99999;
    text-decoration: none;
    border-radius: 0 0 var(--border-radius) var(--border-radius);
    transition: top 0.3s var(--transition-easing);
    box-shadow: var(--shadow-medium);
}
.skip-link:focus { top: 0; }

:focus-visible {
    outline: 3px solid var(--color-accent-primary);
    outline-offset: 2px;
    box-shadow: 0 0 0 3px var(--color-focus-ring);
    border-radius: var(--border-radius);
}
body:not(.using-keyboard) :focus:not(:focus-visible) {
    outline: none;
    box-shadow: none;
}

/* ☆ Core Typography ☆ */
h1, h2, h3, h4 {
    font-family: var(--font-heading-alt);
    color: var(--color-header-bg); /* Using header bg for dark headings */
    font-weight: 500;
    line-height: 1.35;
    margin-bottom: calc(var(--spacing-unit) * 1.5);
}
/* h1 font-size will be controlled by media queries for optimal scaling */
h2 { font-size: clamp(1.7em, 3.8vw, 2.6em); margin-bottom: calc(var(--spacing-unit) * 3); }
h3 { font-size: clamp(1.3em, 3vw, 1.8em); font-weight:600; color: var(--color-text-primary); }
h4 { font-size: clamp(1.1em, 2.5vw, 1.4em); font-weight:600; color: var(--color-text-secondary); }

p { margin-bottom: calc(var(--spacing-unit) * 2.5); max-width: 70ch; }
a { color: var(--color-link); text-decoration: none; transition: color var(--transition-speed) var(--transition-easing), opacity var(--transition-speed) var(--transition-easing); }
a:hover, a:focus { color: var(--color-link-hover); text-decoration: underline; text-decoration-thickness: 1.5px; text-underline-offset: 3px; }

blockquote {
    margin: calc(var(--spacing-unit) * 3.5) 0;
    padding: calc(var(--spacing-unit) * 2) calc(var(--spacing-unit) * 3);
    border-left: 5px solid var(--color-accent-primary);
    background-color: rgba(255,255,255, 0.6);
    font-style: italic;
    color: var(--color-text-secondary);
    border-radius: 0 var(--border-radius) var(--border-radius) 0;
    box-shadow: var(--shadow-soft);
}
blockquote p:last-child { margin-bottom: 0; }

.highlight-earth { color: var(--color-highlight-earth); font-style: italic; font-weight: 500; }
.subtitle-emphasis {
    font-family: var(--font-main-text); font-style: italic; font-weight: 400;
    color: var(--color-text-secondary); font-size: 0.95em; display: block;
    margin-top: calc(var(--spacing-unit) * 0.5);
}

/* ☆ Site Header ☆ */
.site-header {
    background-image: var(--gradient-header);
    color: var(--color-header-text);
    padding: calc(var(--spacing-unit) * 2.5) calc(var(--spacing-unit) * 3);
    border-bottom: 6px solid var(--color-accent-primary);
    box-shadow: 0 4px 12px rgba(0,0,0,0.18);
    position: relative; z-index: 100;
}
.site-header .header-content {
    max-width: var(--header-max-width); margin: 0 auto;
    display: flex; align-items: center; gap: calc(var(--spacing-unit) * 3);
}
.logo-title-container {
    display: flex; align-items: center;
    gap: calc(var(--spacing-unit) * 2.5);
    flex-grow: 1; min-width: 0; /* Allow shrinking */
}
.site-logo-svg {
    height: clamp(55px, 7.5vw, 75px); width: clamp(55px, 7.5vw, 75px);
    flex-shrink: 0; filter: drop-shadow(0 2px 3px rgba(0,0,0,0.35));
}
.site-header h1 {
    color: var(--color-header-text); margin: 0;
    letter-spacing: 0.3px; text-shadow: 1px 1px 3px rgba(0,0,0,0.25);
    font-weight: 700;
}
.site-header h1 .title-line-1,
.site-header h1 .title-line-2 {
    display: block; width: 100%;
    line-height: 1.15;
}

/* Refined Title Font Scaling */
@media (min-width: 768px) {
     .site-header h1 { font-size: clamp(2em, 4.5vw, 3.2em); }
    .site-header h1 .title-line-1, .site-header h1 .title-line-2 { display: inline; width: auto; line-height: inherit; }
}
@media (max-width: 767px) and (min-width: 480px) {
    .site-header h1 { font-size: clamp(1.8em, 5vw, 2.8em); }
    .site-header h1 .title-line-1, .site-header h1 .title-line-2 { display: inline; width: auto; line-height: inherit; }
}
@media (max-width: 479px) and (min-width: 360px) {
    .site-header h1 { font-size: clamp(1.4em, 7vw, 1.9em); }
}
@media (max-width: 359px) {
    .site-header h1 { font-size: clamp(1.1em, 7.5vw, 1.5em); letter-spacing: -0.5px; }
}
@media (max-width: 280px) {
    .site-header h1 { font-size: clamp(0.9em, 8.5vw, 1.15em); letter-spacing: -0.7px; }
}
@media (max-width: 200px) {
    .site-header h1 { font-size: clamp(0.75em, 10vw, 0.95em); }
}

.site-header .title-container { min-width: 0; }
.site-header .subtitle {
    font-family: var(--font-ui); font-size: clamp(0.9em, 1.9vw, 1.15em);
    opacity: 0.92; margin-top: calc(var(--spacing-unit) * 0.5); font-weight: 300;
}
.header-actions-container {
    font-family: var(--font-ui); display: flex; align-items: center;
    gap: calc(var(--spacing-unit) * 2); flex-shrink: 0; margin-left: auto;
}
.header-actions-container .button-group {
    display: flex; align-items: center;
    gap: calc(var(--spacing-unit) * 1);
}

/* ☆ Primary Navigation ☆ */
.primary-navigation {
    width: 100%; margin-top: calc(var(--spacing-unit) * 2.5);
    padding-top: calc(var(--spacing-unit) * 1.5);
    border-top: 1px solid rgba(233, 236, 239, 0.25);
}
.primary-navigation ul {
    list-style: none; display: flex; justify-content: center;
    flex-wrap: wrap; gap: calc(var(--spacing-unit)* 0.75);
}
.primary-navigation ul li a {
    font-family: var(--font-ui); font-weight: 500; font-size: 1em;
    padding: calc(var(--spacing-unit) * 1) calc(var(--spacing-unit) * 2);
    color: var(--color-header-text); border-radius: var(--border-radius);
    transition: background-color var(--transition-speed) var(--transition-easing),
                color var(--transition-speed) var(--transition-easing),
                transform var(--transition-speed) var(--transition-easing);
    display: block; opacity: 0.9;
}
.primary-navigation ul li a:hover,
.primary-navigation ul li a:focus {
    background-color: rgba(255,255,255,0.1); color: var(--color-accent-primary);
    opacity: 1; transform: translateY(-2px);
}

/* ☆ Table of Contents (ToC) Navigation ☆ */
.toc-navigation {
    background-color: rgba(251, 248, 243, 0.92); backdrop-filter: blur(10px);
    padding: calc(var(--spacing-unit)*1.25) calc(var(--spacing-unit) * 1);
    border-bottom: 1px solid var(--color-border-subtle);
    position: sticky; top: 0; z-index: 999;
    box-shadow: var(--shadow-medium);
}
.toc-navigation ul {
    list-style: none; display: flex; justify-content: center;
    flex-wrap: wrap; gap: var(--spacing-unit); padding: calc(var(--spacing-unit)*0.25) 0;
}
.toc-navigation ul li a {
    font-family: var(--font-ui); font-size: 0.9em;
    padding: calc(var(--spacing-unit) * 0.85) calc(var(--spacing-unit) * 1.75);
    color: var(--color-link); white-space: nowrap; border-radius: var(--border-radius);
    transition: background-color var(--transition-speed) var(--transition-easing),
                color var(--transition-speed) var(--transition-easing),
                box-shadow var(--transition-speed) var(--transition-easing);
}
.toc-navigation ul li a:hover,
.toc-navigation ul li a:focus {
    background-color: rgba(176, 141, 87, 0.12); color: var(--color-accent-primary);
}
.toc-navigation ul li a.active {
    color: var(--color-accent-primary); font-weight: 700;
    background-color: rgba(176, 141, 87, 0.08);
    box-shadow: inset 0 -2.5px 0 var(--color-accent-primary);
}
.toc-navigation ul li a.sub-link {
    padding-left: calc(var(--spacing-unit) * 3.5); font-size: 0.85em; opacity: 0.9;
}
.toc-navigation ul li a.sub-link.active { opacity: 1; font-weight: 600; }

/* Main Content Body and Sections */
.constitution-body { flex-grow: 1; max-width: var(--container-max-width); margin: calc(var(--spacing-unit) * 5) auto; padding: calc(var(--spacing-unit) * 4) calc(var(--spacing-unit) * 5); background-color: #FFFFFF; box-shadow: var(--shadow-deep); border-radius: var(--border-radius); border: 1px solid var(--color-border-subtle); }
.sacred-proclamation, .foundational-pillars, .articles-section, .affirmation-section, #living-archive-info { margin-bottom: calc(var(--spacing-unit) * 7); padding-bottom: calc(var(--spacing-unit) * 5); border-bottom: 1px dashed var(--color-border-subtle); }
.constitution-body section:last-of-type { border-bottom: none; margin-bottom: 0; }
section > h2 { padding-bottom: calc(var(--spacing-unit) * 2); border-bottom: 2px solid var(--color-accent-primary); display: flex; align-items: center; color: var(--color-accent-secondary); text-shadow: 1px 1px 2px rgba(0,0,0,0.04); }
.section-icon-unicode { margin-right: calc(var(--spacing-unit)*2); font-size: 1.7em; color: var(--color-accent-primary); opacity: 0.8; line-height: 1; transition: transform var(--transition-speed) var(--transition-easing), opacity var(--transition-speed) var(--transition-easing); }
section > h2:hover .section-icon-unicode { transform: scale(1.15) rotate(-7deg); opacity: 1; }
.preamble-section .profound-text p, .affirmation-section .profound-text p { font-size: 1.25em; color: var(--color-text-primary); text-indent: 1.8em; }
.preamble-section .profound-text p:first-child, .affirmation-section .profound-text p:first-child { text-indent: 0; }
.signature-mark { display: block; text-align: right; margin-top: calc(var(--spacing-unit)*6); font-style: italic; font-family: var(--font-heading-alt); font-size: 1.15em; color: var(--color-accent-primary); }
.pillars-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap: calc(var(--spacing-unit) * 4); }
.pillar { background-color: var(--color-background); padding: calc(var(--spacing-unit) * 3.5); border: 1px solid var(--color-border-subtle); border-radius: var(--border-radius); box-shadow: var(--shadow-soft); text-align: center; display: flex; flex-direction: column; transition: transform var(--transition-speed) var(--transition-easing), box-shadow var(--transition-speed) var(--transition-easing); }
.pillar:hover { transform: translateY(-5px) scale(1.02); box-shadow: var(--shadow-medium); }
.pillar-icon-unicode { font-size: 3.2em; display: block; margin-bottom: calc(var(--spacing-unit)*2); color: var(--color-accent-primary); }
.pillar h3 { font-family: var(--font-ui); font-size: 1.4em; font-weight:600; color: var(--color-accent-secondary); margin-bottom: calc(var(--spacing-unit)*1.5); }
.pillar p { font-size: 1em; color: var(--color-text-secondary); max-width: 100%; margin-top: auto; }

/* ☆ Constitution Articles Styling ☆ */
.constitution-article {
    margin-bottom: calc(var(--spacing-unit) * 6); padding: calc(var(--spacing-unit) * 2);
    border: 1px solid transparent; border-radius: var(--border-radius);
    transition: background-color var(--transition-speed) var(--transition-easing);
}
.article-header {
    display: flex; align-items: baseline;
    gap: calc(var(--spacing-unit) * 1.5);
    margin-bottom: calc(var(--spacing-unit) * 2.5);
    border-bottom: 1px solid var(--color-accent-primary);
    padding-bottom: calc(var(--spacing-unit) * 1.5);
}
.article-number {
    font-family: var(--font-ui);
    font-size: 0.9em;
    font-weight: 600;
    color: var(--color-header-bg); /* Dark text on light accent */
    background-color: var(--color-accent-primary); /* Main accent color */
    padding: calc(var(--spacing-unit)*0.5) calc(var(--spacing-unit)*1.25);
    border-radius: var(--border-radius);
    white-space: nowrap;
    box-shadow: var(--shadow-soft);
    line-height: 1.2;
    margin-right: calc(var(--spacing-unit) * 0.5);
}
.constitution-article h3 { /* Article Title */
    font-family: var(--font-heading-alt); font-size: 1.6em; font-weight: 500;
    color: var(--color-text-primary);
    line-height: 1.3;
}
.article-clause { margin-bottom: calc(var(--spacing-unit) * 3); padding-left: calc(var(--spacing-unit) * 1); }
.article-clause h4 { font-family: var(--font-ui); font-size: 1.2em; font-weight: 600; margin-bottom: calc(var(--spacing-unit) * 1); }
.article-clause p, .article-clause ul, .article-clause ol { font-size: 1.08em; margin-left: calc(var(--spacing-unit) * 2.5); line-height: 1.85; }
.article-clause ul, .article-clause ol { padding-left: calc(var(--spacing-unit) * 3); }
.article-clause li { margin-bottom: calc(var(--spacing-unit)*1); }
#article-13 .article-content > p, #article-14 .article-content > p, #article-13 .article-content ul, #article-14 .article-content ul { font-style: italic; font-size: 1.05em; }
#article-13 .article-content b, #article-14 .article-content b { font-style: normal; font-weight: 600; color: var(--color-text-primary); }
#living-archive-info p { font-size: 1.05em; }
.site-footer { background-image: var(--gradient-header); color: var(--color-header-text); text-align: center; padding: calc(var(--spacing-unit) * 5) calc(var(--spacing-unit) * 2); margin-top: auto; font-family: var(--font-ui); font-size: 0.95em; border-top: 4px solid var(--color-accent-primary); }
.site-footer p { font-size: 1em; margin-bottom: calc(var(--spacing-unit)*1.25); opacity: 0.9; max-width:100%;}
.footer-navigation ul { list-style: none; display: flex; justify-content: center; flex-wrap: wrap; gap: calc(var(--spacing-unit) * 1); margin-top: calc(var(--spacing-unit)*1.5); }
.footer-navigation ul li a { color: var(--color-accent-primary); font-weight: 500; padding: calc(var(--spacing-unit) * 0.75) calc(var(--spacing-unit)*1.25); opacity: 0.95; border-radius: var(--border-radius); }
.footer-navigation ul li a:hover, .footer-navigation ul li a:focus { color: var(--color-header-text); text-decoration: none; opacity: 1; background-color: rgba(255,255,255,0.08); }
.timeless-marker { margin-top: calc(var(--spacing-unit) * 3); font-size: 1.1em; opacity: 0.8; letter-spacing: 1.5px; font-family: var(--font-main-text); font-style: italic; }


/* ☆ UI Elements & Animations ☆ */
@keyframes pulseHeartBeat { 0%, 100% { transform: scale(1); opacity: 1; } 50% { transform: scale(1.15); opacity: 0.85; } }
@keyframes spinSlow { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
@keyframes sandclock-tilt { 0%, 100% { transform: rotateZ(0deg); } 20% { transform: rotateZ(8deg); } 40% { transform: rotateZ(-8deg); } 60% { transform: rotateZ(5deg); } 80% { transform: rotateZ(-5deg); } }
.emoji-spin, .emoji-pulse, .emoji-sandclock { display: inline-block; vertical-align: middle; }
.emoji-spin { animation: spinSlow 6s linear infinite; }
.emoji-pulse { animation: pulseHeartBeat 1s ease-in-out infinite; }
.emoji-sandclock { animation: sandclock-tilt 2.5s ease-in-out infinite; }

/* ☆ New Logo Styling & Animations ☆ */
.site-logo-svg {
    /* Existing height/width from .site-logo-svg will apply */
    overflow: visible; /* Allows glow filter to extend slightly if needed */
}

.logo-bg-circle {
    transition: all 0.5s var(--transition-easing); /* Smooth transition for potential hover effects */
}

.mandala-petals,
.inner-radiance,
.logo-center-dot,
.logo-center-glow {
    transform-origin: 50% 50%; /* Ensure rotations/scales are from the center */
}

/* Animation 1: Gentle pulsing glow for the center */
@keyframes pulseGlow {
    0%, 100% { r: 4; opacity: 0.7; }
    50% { r: 5; opacity: 0.9; }
}
.logo-center-glow {
    animation: pulseGlow 3s var(--transition-easing) infinite;
}

/* Animation 2: Slow, continuous rotation for the main petals */
@keyframes slowRotate {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
}
.mandala-petals {
    animation: slowRotate 45s linear infinite; /* Adjust duration for speed */
}

/* Animation 3: Counter-rotation or different speed for inner radiance */
@keyframes counterRotate {
    from { transform: rotate(0deg) scale(0.7); }
    to { transform: rotate(-360deg) scale(0.7); }
}
.inner-radiance {
    animation: counterRotate 60s linear infinite; /* Slower and opposite direction */
}

/* Animation 4: Subtle scaling of the center dot */
@keyframes centerDotPulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.1); }
}
.logo-center-dot {
    animation: centerDotPulse 3.5s var(--transition-easing) infinite 0.5s; /* Slight delay */
}

/* On hover, perhaps slow down or slightly change animations for interaction */
.site-logo-svg:hover .mandala-petals {
    animation-duration: 60s; /* Slow down rotation on hover */
}
.site-logo-svg:hover .inner-radiance {
    animation-duration: 75s;
}
.site-logo-svg:hover .logo-center-glow {
    animation-duration: 2s; /* Faster pulse on hover */
}

.button {
    font-family: var(--font-ui); font-size: clamp(0.9em, 1.8vw, 1.05em); font-weight: 500;
    padding: calc(var(--spacing-unit)*1) calc(var(--spacing-unit)*1.5);
    border-radius: var(--border-radius); cursor: pointer;
    transition: all var(--transition-speed) var(--transition-easing);
    display: inline-flex; align-items: center; justify-content: center;
    gap: 0.7em; white-space: nowrap; text-decoration: none;
    border: 1.5px solid transparent; line-height: 1.45;
    box-shadow: var(--shadow-soft);
}
.button:active { transform: translateY(1px) scale(0.98); box-shadow: none; }

.constitution-translate-btn { background-color: rgba(255,255,255,0.05); color: var(--color-header-text); border-color: rgba(233, 236, 239, 0.45); }
.constitution-translate-btn:hover, .constitution-translate-btn:focus { background-color: rgba(255,255,255,0.18); color: var(--color-accent-primary); border-color: var(--color-accent-primary); transform: translateY(-2px); box-shadow: var(--shadow-medium); }
.constitution-action-btn { background-color: var(--color-button-bg); color: var(--color-button-text); border-color: var(--color-button-bg); text-shadow: 1px 1px 2px rgba(0,0,0,0.12); }
.constitution-action-btn:hover, .constitution-action-btn:focus { background-color: var(--color-button-hover-bg); border-color: var(--color-button-hover-bg); color: #fff; transform: translateY(-2px); box-shadow: var(--shadow-medium); }

/* ☆ Google Translate Customization ☆ */
#google_translate_element { border: 1px solid var(--color-border-subtle); background-color: rgba(251, 248, 243, 0.99); padding: calc(var(--spacing-unit) * 0.6) calc(var(--spacing-unit) * 0.9); border-radius: var(--border-radius); box-shadow: var(--shadow-soft); transition: opacity var(--transition-speed) var(--transition-easing), transform var(--transition-speed) var(--transition-easing); }
#google_translate_element[style*='display: flex'] { display: flex !important; align-items: center; }
#google_translate_element select.goog-te-combo { font-size: clamp(0.85em, 1.5vw, 0.95em) !important; padding: calc(var(--spacing-unit)*0.6) calc(var(--spacing-unit)*0.8) !important; border: 1px solid var(--color-border-subtle) !important; border-radius: var(--border-radius) !important; cursor: pointer !important; color: var(--color-text-primary) !important; background-color: #fff !important; min-height: auto !important; height: auto !important; font-family: var(--font-ui), 'Arial', sans-serif !important; transition: border-color var(--transition-speed) var(--transition-easing), box-shadow var(--transition-speed) var(--transition-easing); width: auto; max-width: 180px; }
#google_translate_element select.goog-te-combo:hover { border-color: var(--color-accent-primary) !important; }
#google_translate_element .goog-te-gadget-icon { background-image: url('assets/glogo.png') !important; background-size: contain !important; background-repeat: no-repeat !important; background-position: center !important; width: clamp(22px, 4vw, 26px) !important; height: clamp(22px, 4vw, 26px) !important; margin-right: calc(var(--spacing-unit) * 0.75) !important; display: inline-block !important; vertical-align: middle !important; }
/* Google Translate Cleanup */
.goog-te-gadget a, .goog-logo-link, .goog-branding, .goog-poweredby, iframe.goog-te-banner-frame, iframe.VIpgJd-ZVi9od-ORHb-OEVmcd, .goog-te-banner-frame.goog-te-ftab-banner, div#goog-gt-tt { display: none !important; visibility: hidden !important; height: 0 !important; width: 0 !important; position: absolute !important; top: -9999px !important; left: -9999px !important; overflow: hidden !important; border: none !important; margin: 0 !important; padding: 0 !important;}
font[style*="vertical-align: inherit;"], .VIpgJd-yAWNEb-VIpgJd-fm, .goog-text-highlight { background-color: transparent !important; color: inherit !important; box-shadow: none !important; border: none !important; text-decoration: none !important;}
html.translated-ltr, html.translated-rtl, html.translated-ltr body, html.translated-rtl body { margin-top: 0 !important; padding-top: 0 !important; top: 0px !important; }
#google_translate_element .goog-te-gadget-simple { padding: 0 !important; margin: 0 !important; border: none !important; background: transparent !important; box-shadow: none !important; display: flex !important; align-items: center !important; }
.visually-hidden { position: absolute; width: 1px; height: 1px; margin: -1px; padding: 0; overflow: hidden; clip: rect(0, 0, 0, 0); border: 0; }

/* ☆ Responsive Design Adjustments ☆ */
@media (max-width: 1024px) {
    html { font-size: calc(var(--base-font-size) * 0.97); }
    .constitution-body { padding: calc(var(--spacing-unit) * 3) calc(var(--spacing-unit) * 3.5); }
    .toc-navigation ul { justify-content: flex-start; overflow-x:auto; flex-wrap:nowrap; padding-bottom: var(--spacing-unit); }
}

@media (max-width: 768px) {
    html { font-size: calc(var(--base-font-size) * 0.94); }
    body { line-height: 1.75; }
    .site-header .header-content { flex-direction: column; align-items: center; text-align: center; }
    .logo-title-container { width: 100%; justify-content: center; flex-direction: column; }
    .header-actions-container { margin-left: 0; margin-top: calc(var(--spacing-unit)*1.5); flex-wrap: wrap; justify-content: center; width: 100%; }
    .primary-navigation ul { justify-content: space-around; }
    .primary-navigation ul li a { padding: calc(var(--spacing-unit)*0.9) calc(var(--spacing-unit)*1.25); font-size: 0.95em; }
    .constitution-body { margin: calc(var(--spacing-unit)*3) auto; padding: calc(var(--spacing-unit)*3); }
    p { max-width: 95%; }
    section > h2 { font-size: clamp(1.6em, 5vw, 2.2em); }
    .article-clause p, .article-clause ul, .article-clause ol { margin-left: calc(var(--spacing-unit)*1.5); }
    .toc-navigation ul { gap: calc(var(--spacing-unit)*0.75); }
}

@media (max-width: 480px) {
    html { font-size: calc(var(--base-font-size) * 0.90); }
    body { line-height: 1.7; }
    .site-header .subtitle { font-size: clamp(0.85em, 3.2vw, 1em); }
    .header-actions-container { flex-direction: column; align-items: center; gap: calc(var(--spacing-unit) * 1.5); width: 100%; }
    .header-actions-container .button-group { flex-direction: column; align-items: center; width: 90%; max-width: 300px; } /* Center content */
    .header-actions-container .button-group .button { width: 100%; max-width: none; margin-bottom: calc(var(--spacing-unit) * 1); }
    .header-actions-container .button-group #google_translate_element { width: auto; align-self: center; margin-bottom: calc(var(--spacing-unit) * 1); } /* Does not stretch to 100% */
    #google_translate_element select.goog-te-combo { max-width: 150px; }
    .header-actions-container .button-group > *:last-child { margin-bottom: 0; }
    .pillars-grid { grid-template-columns: 1fr; } .pillar { padding: calc(var(--spacing-unit) * 2.5); } .pillar-icon-unicode { font-size: 2.8em; } .pillar h3 { font-size: 1.25em; } .pillar p { font-size: 0.95em; }
    .toc-navigation { display: block; padding: var(--spacing-unit); max-height: 100px; overflow-y: auto; } /* Was 130px, reduced */
    .toc-navigation ul { flex-wrap: wrap; justify-content: center; max-height: none; }
    .toc-navigation ul li a { padding: calc(var(--spacing-unit)*0.7) calc(var(--spacing-unit)*1); font-size:0.8em; white-space: normal; text-align: center;}
    .article-header { flex-direction: column; align-items: flex-start; } .article-number { margin-bottom: calc(var(--spacing-unit)*1); font-size: 0.8em; }
    .constitution-article h3 { font-size: 1.4em; } .article-clause h4 { font-size: 1.1em; } .article-clause p, .article-clause ul, .article-clause ol { font-size: 1em; }
    #google_translate_element select.goog-te-combo { font-size: clamp(0.8em, 2vw, 0.9em) !important; } .footer-navigation ul li a { font-size: 0.95em; }
}

@media (max-width: 359px) {
    html { font-size: calc(var(--base-font-size) * 0.81); }
    body { line-height: 1.65; }
    .site-header { padding: calc(var(--spacing-unit)*1) calc(var(--spacing-unit)*1.25); }
    .site-logo-svg { height: clamp(35px, 8vw, 45px); width: clamp(35px, 8vw, 45px); }
    .site-header .subtitle { font-size: clamp(0.6em, 3vw, 0.7em); }
    .header-actions-container .button-group .button { font-size: 0.8em; padding: calc(var(--spacing-unit)*0.7) calc(var(--spacing-unit)); }
    #google_translate_element .goog-te-gadget-icon { display: inline-block !important; width: clamp(18px, 3.5vw, 20px) !important; height: clamp(18px, 3.5vw, 20px) !important; }
    #google_translate_element select.goog-te-combo { font-size: 0.7em !important; padding: 2px 3px !important; max-width: 130px;}
    .primary-navigation ul { flex-direction: column; gap: 0; } .primary-navigation ul li { width: 100%; text-align: center; } .primary-navigation ul li a { font-size: 0.85em; padding: calc(var(--spacing-unit)*0.85) var(--spacing-unit); border-bottom: 1px solid rgba(233, 236, 239, 0.1); } .primary-navigation ul li:last-child a { border-bottom: none; }
    /* ToC display modified to show on smaller screens */
    .toc-navigation { display: block; padding: calc(var(--spacing-unit) * 0.75); max-height: 120px; /* Very limited height */ overflow-y: auto; }
    .toc-navigation ul { flex-direction:column; align-items:stretch; justify-content: flex-start; gap: 0; } /* Stack links */
    .toc-navigation ul li { width: 100%; }
    .toc-navigation ul li a { font-size: 0.65em; padding: calc(var(--spacing-unit)*0.4) calc(var(--spacing-unit)*0.6); white-space: normal; text-align:left; border-bottom: 1px solid var(--color-border-subtle); }
    .toc-navigation ul li:last-child a { border-bottom: none; }
    .toc-navigation ul li a.sub-link { padding-left: calc(var(--spacing-unit)*1.5); } /* Reduced indent */

    .constitution-body { padding: calc(var(--spacing-unit)*1.5); margin: calc(var(--spacing-unit)*1.5) auto; }
    section > h2 { font-size: 1.3em; } .section-icon-unicode { font-size: 1.3em; } .profound-text p { font-size: 0.95em; }
    .pillar { padding: calc(var(--spacing-unit)*1.5); } .pillar-icon-unicode { font-size: 2.2em; } .pillar h3 { font-size: 1.1em; } .pillar p { font-size: 0.9em; }
    .article-number { font-size: 0.78em; } .constitution-article h3 { font-size: 1.2em; } .article-clause h4 { font-size: 1em; } .article-clause p, .article-clause ul, .article-clause ol { font-size: 0.95em; }
    .site-footer { padding: calc(var(--spacing-unit)*1.5); font-size: 0.9em;} .site-footer p { font-size: 0.9em; } .footer-navigation ul li a { font-size: 0.85em; } .timeless-marker { font-size: 0.95em; }
}

@media (max-width: 280px) {
    html { font-size: calc(var(--base-font-size) * 0.72); }
    body { line-height: 1.5; } .site-header { padding: calc(var(--spacing-unit)*0.75); } .site-logo-svg { height: 28px; width: 28px; } .site-header .subtitle { font-size: 0.5em; line-height: 1.1; } .logo-title-container { gap: calc(var(--spacing-unit) * 0.4); }
    .header-actions-container .button-group .button { font-size: 0.6em; padding: calc(var(--spacing-unit)*0.4) calc(var(--spacing-unit)*0.5); gap: calc(var(--spacing-unit)*0.2); white-space: normal; }
    .emoji-spin, .emoji-pulse, .emoji-sandclock { display: inline-block !important; font-size: 0.85em; margin-left: 2px; }
    #google_translate_element { padding: calc(var(--spacing-unit)*0.4); width: auto; }
    #google_translate_element .goog-te-gadget-icon { display: inline-block !important; width: 14px !important; height: 14px !important; margin-right: 2px !important; }
    #google_translate_element select.goog-te-combo { font-size: 0.55em !important; padding: 1px 2px !important; max-width: 90px; /* Even tighter select */ }
    .primary-navigation ul li a { font-size: 0.7em; padding: calc(var(--spacing-unit)*0.5); }
    .toc-navigation { max-height: 100px; padding: calc(var(--spacing-unit)*0.5); } /* Tighter TOC still */
    .toc-navigation ul li a { font-size: 0.55em; padding: 1px 2px; }
    .constitution-body { padding: calc(var(--spacing-unit)*0.5); margin: calc(var(--spacing-unit)*0.5) auto; }
    section { margin-bottom: calc(var(--spacing-unit)*0.5); padding-bottom:calc(var(--spacing-unit)*0.5); }
}
@media (max-width: 100px) { /* Final hiding of non-critical items */
    .emoji-spin, .emoji-pulse, .emoji-sandclock { display: none !important; }
    .site-header h1 { font-size: clamp(0.6em, 10vw, 0.8em); }
    .toc-navigation { display:none !important;}
    section > h2 { font-size: 1em; } .section-icon-unicode { display: none; } .profound-text p { font-size: 0.8em; } .pillar { padding: calc(var(--spacing-unit)*0.5); } .pillar-icon-unicode { display:none; } .pillar h3 { font-size: 0.8em; } .pillar p { font-size: 0.7em; } .article-header{padding-bottom:calc(var(--spacing-unit)*0.3); margin-bottom: calc(var(--spacing-unit)*0.5); } .article-number { font-size: 0.6em; padding: 1px 2px;} .constitution-article h3 { font-size: 0.85em; } .article-clause h4 { font-size: 0.75em; } .article-clause p, .article-clause ul, .article-clause ol { font-size: 0.75em; } .site-footer { padding: calc(var(--spacing-unit)*0.5); font-size: 0.7em;} .site-footer p { font-size: 0.7em; } .footer-navigation ul li a { font-size: 0.65em; padding: calc(var(--spacing-unit)*0.3); } .timeless-marker { font-size: 0.7em; } .skip-link { font-size: 0.65em; }
}

/* ☆ Print Styles ☆ */
@media print {
    :root {
        --color-background: #FFFFFF !important; --color-text-primary: #000000 !important;
        --color-text-secondary: #222222 !important; --color-header-bg: #FFFFFF !important;
        --color-header-text: #000000 !important; --color-accent-primary: #666666 !important;
        --color-accent-secondary: #444444 !important; --color-border-subtle: #BBBBBB !important;
        --color-highlight-earth: #225500 !important; --color-link: #0000CC !important;
    }
    html { font-size: 10.5pt; } body { line-height: 1.45; background-color: var(--color-background); color: var(--color-text-primary); width: auto !important; }
    .site-header .header-actions-container, .primary-navigation, .toc-navigation, .site-footer .footer-navigation, .skip-link, .no-print, #google_translate_element, #stopAnthemBtn, #understandPrincipalsBtn, .button { display: none !important; visibility: hidden !important; }
    .site-header { background-image: none !important; background-color: transparent !important; border-bottom: 2px solid #999 !important; padding: 0.8em 0 !important; margin-bottom: 1.2em !important; box-shadow: none !important; }
    .site-header .header-content, .logo-title-container { display: block !important; text-align: left !important; } .logo-title-container { margin-bottom: 0.4em; }
    .site-header .logo-title-container .site-logo-svg { display: inline-block !important; height: 35px !important; width: 35px !important; vertical-align: middle !important; margin-right: 8px !important; }
    .site-header .logo-title-container .site-logo-svg circle, .site-header .logo-title-container .site-logo-svg path { stroke: #222 !important; fill: #ddd !important; opacity: 1 !important; filter: none !important; } .site-header .logo-title-container .site-logo-svg circle[r="5"] { fill: #222 !important; }
    .site-header .title-container { display:inline-block !important; vertical-align: middle;} .site-header h1 { font-size: 20pt !important; color: var(--color-text-primary) !important; text-shadow: none !important; } .site-header h1 .title-line-1, .site-header h1 .title-line-2 { display: block !important; font-size: inherit !important;} .site-header .subtitle { font-size: 12pt !important; color: var(--color-text-secondary) !important; opacity: 1 !important; }
    .constitution-body { margin: 1cm auto; padding: 0; box-shadow: none !important; border: none !important; max-width: 100% !important; }
    a { color: var(--color-link) !important; text-decoration: none !important; } a[href^="#"]:after { content: " (Section " attr(href) ")"; font-size: 0.85em; color: #444; } a[href]:not([href^="#"]):after { content: " (" attr(href) ")"; font-size: 0.85em; color: #444; word-break: break-all; }
    h1, h2, h3, h4 { page-break-after: avoid; page-break-inside: avoid; font-family: var(--font-heading-alt), 'Times New Roman', serif !important; } h2 { font-size: 16pt !important; } h3 { font-size: 13pt !important; } h4 { font-size: 11pt !important; } section > h2 { border-bottom-color: #888 !important; }
    p, blockquote, ul, ol, .pillar, .article-clause { page-break-inside: avoid; } .highlight-earth { color: var(--color-highlight-earth) !important; font-style: normal !important; } .pillar { border: 1px solid var(--color-border-subtle) !important; background: none !important; box-shadow: none !important; padding: 0.8em !important; }
    .section-icon-unicode, .pillar-icon-unicode { display: inline !important; margin-right: 0.4em !important; opacity: 1 !important; color: var(--color-text-secondary) !important; font-size: 0.9em !important; } .signature-mark, .timeless-marker { color: var(--color-text-secondary) !important; font-family: var(--font-main-text) !important; }
    #living-archive-info h2:before { content:"Note on Preservation: "; font-style: normal; } #living-archive-info { border-bottom: none !important; margin-bottom: 0.8em !important;} #living-archive-info p:last-of-type:after { display: block; white-space: pre-wrap; font-style: italic; font-size: 0.9em; margin-top: 1.2em; border-top: 1px solid #bbb; padding-top: 0.4em; }
    .site-footer { border-top: 2px solid #999 !important; background: none !important; padding: 0.8em 0 !important; margin-top: 1.5em !important; } .site-footer p { color: #111 !important; opacity: 1 !important; margin-bottom: 0.4em !important; } .site-footer .timeless-marker { color: #000 !important; }
    @page { margin: 1.2cm 1.5cm; @bottom-center { content: "Vishwa Samvidhan – Covenant of Earth – Page " counter(page) " of " counter(pages); font-size: 8.5pt; color: #444; font-family: var(--font-ui); } } @page :first { margin-top: 2cm; }
}
